<!doctype html><html lang="en"><head><meta charset="utf-8"> <title>CloudFront Cost Control - digital authority</title> <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"> <meta name="description" content="If you’re using CloudFront to serve your website, here’s some tips that can help reduce the cost. Here’s a output sample of my deploy script: $ make [info] Deploying /Sites/sparanoid.com/* to sparanoid.com [succ] Updated lab/amsf/assets/css/app.css [succ] Updated lab/amsf/assets/js/custom.js [suc..."> <meta name="theme-color" content="#a212d1"> <link rel="alternate" href="/feed.xml" type="application/atom+xml"> <link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="icon" href="/favicon.png" type="image/png"><link rel="icon" href="data:image/svg+xml;utf8,%3Csvg%20width%3D'180'%20height%3D'180'%20viewBox%3D'0%200%20180%20180'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20xmlns%3Axlink%3D'http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink'%3E%3Ctitle%3ESparanoid%3C%2Ftitle%3E%3Cdefs%3E%3Cpath%20d%3D'M90%20165c41.42%200%2075-33.58%2075-75s-33.58-75-75-75-75%2033.58-75%2075%2033.58%2075%2075%2075zm0-10c35.9%200%2065-29.1%2065-65s-29.1-65-65-65-65%2029.1-65%2065%2029.1%2065%2065%2065zm0-4.167c33.597%200%2060.833-27.236%2060.833-60.833%200-33.597-27.236-60.833-60.833-60.833-33.597%200-60.833%2027.236-60.833%2060.833%200%2033.597%2027.236%2060.833%2060.833%2060.833zm0-18.333c23.472%200%2042.5-19.028%2042.5-42.5S113.472%2047.5%2090%2047.5%2047.5%2066.528%2047.5%2090s19.028%2042.5%2042.5%2042.5z'%20id%3D'a'%2F%3E%3C%2Fdefs%3E%3Cg%20fill%3D'none'%20fill-rule%3D'evenodd'%3E%3Ccircle%20fill%3D'%23FFF'%20cx%3D'90'%20cy%3D'90'%20r%3D'90'%2F%3E%3Cmask%20id%3D'b'%20fill%3D'%23fff'%3E%3Cuse%20xlink%3Ahref%3D'%23a'%2F%3E%3C%2Fmask%3E%3Cuse%20fill%3D'%23A212D1'%20xlink%3Ahref%3D'%23a'%2F%3E%3Cpath%20d%3D'M0%200h180v180H0z'%20mask%3D'url(%23b)'%20fill%3D'%23A212D1'%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E" sizes="any" type="image/svg+xml"><link rel="mask-icon" href="/mask-icon.svg" color="#a212d1"> <link rel="manifest" href="/manifest.json"> <style>:root{--fontstack-prefix:-apple-system,BlinkMacSystemFont,;--fontstack-sans-serif:"Helvetica Neue","Segoe UI",sans-serif;--fontstack-serif:Georgia,serif;--fontstack-monospace:Menlo,Consolas,monospace;--fontstack-default:var(--fontstack-prefix) var(--fontstack-sans-serif);--font-size-base:1rem;--font-size-factor:1vw;--font-size:1.6vw;--font-features:"halt","ss01","ss02";--line-height:calc(20 / 14);--heading-letter-spacing:-.04em;--breakpoint-lg:1600px;--breakpoint-md:1080px;--breakpoint-sm:640px;--breakpoint-xs:400px;--space-lg:24vw;--space-md:8vw;--space-sm:4vw;--space-xs:1.2vw;--border-lg:4px;--border-md:2px;--border-sm:1px;--nav-padding:.75vmax;--nav-item-space:1.4vmax;--text-color-h:318;--text-color-s:30%;--text-color-l:10%;--text-color-hsl:var(--text-color-h),var(--text-color-s),var(--text-color-l);--text-color:hsl(var(--text-color-hsl));--text-color-0:hsla(var(--text-color-hsl), 0);--text-color-3:hsla(var(--text-color-hsl), .03);--text-color-5:hsla(var(--text-color-hsl), .05);--text-color-7:hsla(var(--text-color-hsl), .07);--text-color-10:hsla(var(--text-color-hsl), .1);--text-color-20:hsla(var(--text-color-hsl), .2);--text-color-30:hsla(var(--text-color-hsl), .3);--text-color-40:hsla(var(--text-color-hsl), .4);--text-color-50:hsla(var(--text-color-hsl), .5);--text-color-60:hsla(var(--text-color-hsl), .6);--text-color-70:hsla(var(--text-color-hsl), .7);--text-color-80:hsla(var(--text-color-hsl), .8);--text-color-90:hsla(var(--text-color-hsl), .9);--text-color-light:hsl(var(--text-color-h), var(--text-color-s), calc(var(--text-color-l) / .9));--text-color-dark:hsl(var(--text-color-h), var(--text-color-s), calc(var(--text-color-l) * .9));--link-color-h:318;--link-color-s:100%;--link-color-l:50%;--link-color-hsl:var(--link-color-h),var(--link-color-s),var(--link-color-l);--link-color:hsl(var(--link-color-hsl));--link-color-0:hsla(var(--link-color-hsl), 0);--link-color-3:hsla(var(--link-color-hsl), .03);--link-color-5:hsla(var(--link-color-hsl), .05);--link-color-7:hsla(var(--link-color-hsl), .07);--link-color-10:hsla(var(--link-color-hsl), .1);--link-color-20:hsla(var(--link-color-hsl), .2);--link-color-30:hsla(var(--link-color-hsl), .3);--link-color-40:hsla(var(--link-color-hsl), .4);--link-color-50:hsla(var(--link-color-hsl), .5);--link-color-60:hsla(var(--link-color-hsl), .6);--link-color-70:hsla(var(--link-color-hsl), .7);--link-color-80:hsla(var(--link-color-hsl), .8);--link-color-90:hsla(var(--link-color-hsl), .9);--link-color-light:hsl(var(--link-color-h), var(--link-color-s), calc(var(--link-color-l) / .9));--link-color-dark:hsl(var(--link-color-h), var(--link-color-s), calc(var(--link-color-l) * .9));--bg-color-h:318;--bg-color-s:30%;--bg-color-l:100%;--bg-color-hsl:var(--bg-color-h),var(--bg-color-s),var(--bg-color-l);--bg-color:hsl(var(--bg-color-hsl));--bg-color-0:hsla(var(--bg-color-hsl), 0);--bg-color-3:hsla(var(--bg-color-hsl), .03);--bg-color-5:hsla(var(--bg-color-hsl), .05);--bg-color-7:hsla(var(--bg-color-hsl), .07);--bg-color-10:hsla(var(--bg-color-hsl), .1);--bg-color-20:hsla(var(--bg-color-hsl), .2);--bg-color-30:hsla(var(--bg-color-hsl), .3);--bg-color-40:hsla(var(--bg-color-hsl), .4);--bg-color-50:hsla(var(--bg-color-hsl), .5);--bg-color-60:hsla(var(--bg-color-hsl), .6);--bg-color-70:hsla(var(--bg-color-hsl), .7);--bg-color-80:hsla(var(--bg-color-hsl), .8);--bg-color-90:hsla(var(--bg-color-hsl), .9);--bg-color-light:hsl(var(--bg-color-h), var(--bg-color-s), calc(var(--bg-color-l) / .9));--bg-color-dark:hsl(var(--bg-color-h), var(--bg-color-s), calc(var(--bg-color-l) * .9));--code-color-h:calc(var(--link-color-h) + 30);--code-color-s:calc(var(--link-color-s) * .2 + 30%);--code-color-l:var(--link-color-l);--code-color-hsl:var(--code-color-h),var(--code-color-s),var(--code-color-l);--code-color:hsl(var(--code-color-hsl));--code-color-0:hsla(var(--code-color-hsl), 0);--code-color-3:hsla(var(--code-color-hsl), .03);--code-color-5:hsla(var(--code-color-hsl), .05);--code-color-7:hsla(var(--code-color-hsl), .07);--code-color-10:hsla(var(--code-color-hsl), .1);--code-color-20:hsla(var(--code-color-hsl), .2);--code-color-30:hsla(var(--code-color-hsl), .3);--code-color-40:hsla(var(--code-color-hsl), .4);--code-color-50:hsla(var(--code-color-hsl), .5);--code-color-60:hsla(var(--code-color-hsl), .6);--code-color-70:hsla(var(--code-color-hsl), .7);--code-color-80:hsla(var(--code-color-hsl), .8);--code-color-90:hsla(var(--code-color-hsl), .9);--code-color-light:hsl(var(--code-color-h), var(--code-color-s), calc(var(--code-color-l) / .9));--code-color-dark:hsl(var(--code-color-h), var(--code-color-s), calc(var(--code-color-l) * .9))}*,::after,::before{padding:0;margin:0;box-sizing:border-box}html{font-size:100%;-webkit-text-size-adjust:none;-ms-text-size-adjust:none;text-size-adjust:none;text-rendering:optimizelegibility;image-rendering:optimizequality;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background:var(--bg-color)}body{--space-body:var(--space-lg);padding-top:0;padding-bottom:0;padding-left:var(--space-body);padding-right:var(--space-body);margin:0 auto 0;font-family:var(--fontstack-default);font-size:var(--font-size);-webkit-font-feature-settings:var(--font-features);font-feature-settings:var(--font-features);line-height:var(--line-height);hanging-punctuation:first allow-end;color:var(--text-color);background:var(--bg-color);-webkit-transition:all .2s ease;transition:all .2s ease}@media (max-width:1080px){body{--space-body:var(--space-md);font-size:calc(var(--font-size) * 1.4)}}@media (max-width:640px){body{--space-body:var(--space-sm);font-size:calc(var(--font-size) * 2.4)}}@media (max-width:400px){body{font-size:calc(var(--font-size) * 3.2)}}a{color:var(--text-color);text-decoration:none;-webkit-transition:color .5s ease,border-color .5s ease,background .5s ease,opacity 1.5s ease;transition:color .5s ease,border-color .5s ease,background .5s ease,opacity 1.5s ease}a:focus,a:hover{-webkit-transition:color .1s ease,border-color .1s ease,background .1s ease,opacity .1s ease;transition:color .1s ease,border-color .1s ease,background .1s ease,opacity .1s ease;text-decoration:underline}::-webkit-input-placeholder{color:var(--text-color);opacity:.2}::-moz-placeholder{color:var(--text-color);opacity:.2}:-ms-input-placeholder{color:var(--text-color);opacity:.2}::-ms-input-placeholder{color:var(--text-color);opacity:.2}:focus::-webkit-input-placeholder{color:var(--link-color)}:focus::-moz-placeholder{color:var(--link-color)}:focus:-ms-input-placeholder{color:var(--link-color)}:focus::-ms-input-placeholder{color:var(--link-color)}.navigation{padding-top:var(--nav-padding);padding-bottom:var(--nav-padding);margin-right:calc(var(--nav-item-space) * -1);margin-left:calc(var(--nav-item-space) * -1);font-size:90%;font-weight:700}.navigation li{display:inline-block;line-height:2}.navigation li a{padding:.5em var(--nav-item-space)}.navigation li a:focus,.navigation li a:hover{color:var(--link-color);text-decoration:none}.content{margin-bottom:16vmin}.content::after,.content::before{display:table;content:""}.content::after{clear:both}.content article>:last-child{margin-bottom:0!important}.content article>:last-child>:last-child{margin-bottom:0!important}.content article>:last-child>:last-child>:last-child{margin-bottom:0!important}.content article>:last-child>:last-child>:last-child>:last-child{margin-bottom:0!important}.content .post-content>:first-child{margin-top:0}.content a{font-weight:700}.content a:has(>code){-webkit-text-decoration-color:var(--code-color);text-decoration-color:var(--code-color)}.content p{margin-bottom:1.6rem;line-height:calc(var(--line-height) * 1.2)}.content header{--header-height:100vh;--space-header:var(--space-lg);display:-webkit-box;display:flex;min-height:calc(var(--header-height) - (var(--nav-padding) * 4) - (var(--nav-item-space) * 4) - (1ex * .9 * 2));padding-top:10vmin;padding-bottom:10vmin;margin-bottom:16vmin;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center;background:var(--text-color-3);padding-left:var(--space-header);padding-right:var(--space-header);margin-left:calc(var(--space-header) * -1);margin-right:calc(var(--space-header) * -1)}@media (max-width:1080px){.content header{--header-height:70vh;--space-header:var(--space-md);padding-top:16vmin;padding-bottom:16vmin}}@media (max-width:640px){.content header{--space-header:var(--space-sm)}}.content header h1{font-size:360%;font-weight:700;letter-spacing:var(--heading-letter-spacing);margin-left:-2px;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.1}@media (max-width:640px){.content header h1{font-size:280%}}.content header small{display:block;margin-top:2vmin}.content h3{margin:10vmin 0 1rem;font-size:72%;font-weight:400;opacity:.5}.content blockquote{position:relative;margin-bottom:2.8rem;margin-left:calc(var(--space-xs) * -1);font-size:90%}@media (max-width:640px){.content blockquote{margin-left:0}}.content blockquote>p{padding-left:var(--space-xs);border-left:var(--border-md) solid;color:var(--text-color-60);padding-bottom:1.6em;margin-bottom:0}.content blockquote>p:last-of-type{padding-bottom:0;margin-bottom:.4em}@media (max-width:640px){.content blockquote>p{padding-left:calc(var(--space-sm) - var(--border-md));padding-right:var(--space-sm);margin-left:calc(var(--space-sm) * -1);margin-right:calc(var(--space-sm) * -1)}}.content code,.content pre{font-family:var(--fontstack-monospace);color:var(--code-color)}.content pre{background:var(--code-color-5)}.content code{font-size:92%;overflow-wrap:break-word}.content .highlight>pre,.content .highlighter-rouge pre.highlight,.content pre{--space-code:var(--space-xs);padding-top:var(--space-xs);padding-bottom:var(--space-xs);padding-left:var(--space-code);padding-right:var(--space-code);margin-left:calc(var(--space-code) * -1);margin-right:calc(var(--space-code) * -1);margin-bottom:1.8rem;overflow-x:auto;font-size:80%;line-height:calc(var(--line-height) * 1.2);-webkit-overflow-scrolling:touch}@media (max-width:1080px){.content .highlight>pre,.content .highlighter-rouge pre.highlight,.content pre{--space-code:var(--space-md)}}@media (max-width:640px){.content .highlight>pre,.content .highlighter-rouge pre.highlight,.content pre{--space-code:var(--space-sm)}}.content .highlight>pre code,.content .highlighter-rouge pre.highlight code,.content pre code{overflow-wrap:normal}.post-modified-date{font-size:75%;opacity:.5}.footer{padding:0 0 16vmin;margin-right:calc(var(--nav-item-space) * -1);margin-left:calc(var(--nav-item-space) * -1);font-size:80%;text-transform:lowercase}.footer ul li{display:inline-block;line-height:1.8}.footer ul li a{padding:.5em var(--nav-item-space)}@media print{*,::after,::before{background:0 0!important;color:#000!important;box-shadow:none!important;text-shadow:none!important}body{padding:10mm!important;margin:0!important;font-size:calc(var(--font-size) * 1.35)}a,a:visited{text-decoration:none}.content header{min-height:0;padding-bottom:0}.content .post-content{max-width:100%!important}.content .post-content a[href]::after{content:" (" attr(href) ")";font-weight:400;opacity:.5}blockquote,pre{page-break-inside:avoid}h3,p{orphans:3;widows:3}h3{page-break-after:avoid}.footer,.navigation{display:none}}:root{--rdmz-h:var(--code-color-h, 254);--rdmz-s:var(--code-color-s, 80%);--rdmz-l:var(--code-color-l, 39%)}.highlight>pre,.highlighter-rouge pre.highlight{background:hsla(var(--rdmz-h),var(--rdmz-s),var(--rdmz-l),.03)}.highlight .o,.highlighter-rouge .o{font-weight:700}.highlight .k,.highlighter-rouge .k{font-weight:700}.highlight code,.highlight pre,.highlighter-rouge code,.highlighter-rouge pre{--rdmz-h-local:var(--rdmz-h);color:hsl(var(--rdmz-h),var(--rdmz-s),var(--rdmz-l))}.highlight .nl,.highlighter-rouge .nl{--rdmz-h-local:calc(var(--rdmz-h) + 69.8507462687);color:hsl(var(--rdmz-h-local),var(--rdmz-s),var(--rdmz-l))}.highlight .nv,.highlighter-rouge .nv{--rdmz-h-local:calc(var(--rdmz-h) + 91.3432835821);color:hsl(var(--rdmz-h-local),var(--rdmz-s),var(--rdmz-l))}.highlight .k,.highlighter-rouge .k{--rdmz-h-local:calc(var(--rdmz-h) + 177.313432836);color:hsl(var(--rdmz-h-local),var(--rdmz-s),var(--rdmz-l))}.highlight .w,.highlighter-rouge .w{--rdmz-h-local:calc(var(--rdmz-h) + 220.298507463);color:hsl(var(--rdmz-h-local),var(--rdmz-s),var(--rdmz-l))}.highlight .s2,.highlighter-rouge .s2{--rdmz-h-local:calc(var(--rdmz-h) + 257.910447761);color:hsl(var(--rdmz-h-local),var(--rdmz-s),var(--rdmz-l))}.highlight .mi,.highlighter-rouge .mi{--rdmz-h-local:calc(var(--rdmz-h) + 317.014925373);color:hsl(var(--rdmz-h-local),var(--rdmz-s),var(--rdmz-l))}.highlight .o,.highlighter-rouge .o{--rdmz-h-local:calc(var(--rdmz-h) + 343.880597015);color:hsl(var(--rdmz-h-local),var(--rdmz-s),var(--rdmz-l))}.highlight .p,.highlighter-rouge .p{--rdmz-h-local:calc(var(--rdmz-h) + 354.626865672);color:hsl(var(--rdmz-h-local),var(--rdmz-s),var(--rdmz-l))}:root{--fontstack-sans-serif:"Helvetica Neue","Segoe UI","Hiragino Sans GB",sans-serif;--fontstack-serif:Georgia,"Hiragino Mincho ProN",serif}:root{--link-color-h:285;--link-color-s:84%;--link-color-l:45%;--text-color-h:var(--link-color-h);--bg-color-h:var(--link-color-h)}</style> <link rel="canonical" href="https://digitalauthority.com.au//note/cloudfront-cost-control/"> <meta property="og:type" content="article"> <meta property="og:site_name" content="digital authority"> <meta property="og:title" content="CloudFront Cost Control"> <meta property="og:url" content="https://digitalauthority.com.au//note/cloudfront-cost-control/"> <meta property="og:description" content="If you’re using CloudFront to serve your website, here’s some tips that can help reduce the cost. Here’s a output sample of my deploy script: $ make [info] Deploying /Sites/sparanoid.com/* to sparanoid.com [succ] Updated lab/amsf/assets/css/app.css [succ] Updated lab/amsf/assets/js/custom.js [suc..."> <meta property="og:image" content="https://digitalauthority.com.au//logo.png"> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:site" content="@ynnmedianetwork"> <meta name="twitter:creator" content="@youthsnews"> <meta property="article:published_time" content="2015-08-30T00:00:00+08:00"> <meta property="article:modified_time" content="2019-06-15T13:09:07+08:00"> <meta name="twitter:label1" value="Words"> <meta name="twitter:data1" value="705 words"> <meta name="twitter:label2" value="Reading time"> <meta name="twitter:data2" value="3 mins"> </head><body><nav class="navigation"> <ul> <li> <a href="/">digital authority</a> </li> <li> <a href="/work/">Work</a> </li> <li> <a href="/note/">Consultant</a> </li> <li> <a href="/about/">About</a> </li> </ul> </nav> <main class="content" role="main"> <article lang="en"> <header> <h1 title="CloudFront Cost Control" data-title="CloudFront Cost Control"> CloudFront Cost Control<span class="dot dot--post"> </span> </h1> <small> By <span rel="author">digital</span> on <time datetime="2015-08-30T00:00:00+08:00">Aug 30, 2015</time> </small> </header> <div class="post-content"> <p>If you’re using CloudFront to serve your website, here’s some tips that can help reduce the cost.</p> <p>Here’s a output sample of my deploy script:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>make
<span class="o">[</span>info] Deploying /Sites/sparanoid.com/<span class="k">*</span> to sparanoid.com
<span class="o">[</span>succ] Updated lab/amsf/assets/css/app.css
<span class="o">[</span>succ] Updated lab/amsf/assets/js/custom.js
<span class="o">[</span>succ] Updated lab/amsf/assets/themes/curtana/js/intense.js
<span class="o">[</span>succ] Invalidated 3 items on CloudFront
<span class="o">[</span>info] Summary: Updated 3 files. Transferred 15.2 kB, 8.0 kB/s.
</code></pre></div></div> <p>The invalidation price will be high if you like me, deploy sites via git hooks so every time you deploy sites to CloudFront the invalidation triggers. So here’s a workaround way to avoid invalidation but also refresh caches for users.</p> <blockquote> <p>File hashes to the rescue.</p> </blockquote> <p>Here’s another output sample of optimized deploy script:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>make
<span class="o">[</span>info] Deploying /Sites/sparanoid.com/<span class="k">*</span> to sparanoid.com
<span class="o">[</span>succ] Deleted lab/amsf/assets/css/app.css
<span class="o">[</span>succ] Deleted lab/amsf/assets/js/custom.js
<span class="o">[</span>succ] Deleted lab/amsf/assets/themes/curtana/js/intense.js
<span class="o">[</span>succ] Created lab/amsf/assets/css/app.17b3a8ad.css
<span class="o">[</span>succ] Created lab/amsf/assets/js/custom.53609257.js
<span class="o">[</span>succ] Created lab/amsf/assets/themes/curtana/js/intense.5797aa35.js
<span class="o">[</span>info] Summary: Created 3 files. Deleted 3 files. Transferred 15.2 kB, 8.2 kB/s.
</code></pre></div></div> <p>There’s no invalidation anymore, The cost of invalidation requests is first 1,000 paths free, then $0.005 per path. For example if you deploy your sites for client preview, let’s say 20 there’re 10 deploys per day with an average of 20 files (CSS, scripts and images) per deploy, all done automatically via git hooks. You will have 200 invalidations per day. 1000 for five days then you’ll run out of free tier. you have to pay $5 per 1000 request if you continue requesting invalidations.</p> <p>So in my <a href="https://sparanoid.com/lab/amsf/">current setup</a>, I use <a href="https://github.com/hollandben/grunt-cache-bust">grunt-cache-bust</a> to hash files. All file references will be updated automatically via Grunt task.</p> <h3 id="update-jun-19-2016">Update Jun 19, 2016</h3> <p>With recent update of AWS CloudFront, you can now use the <code class="highlighter-rouge">*</code> wildcard to invalidate files. In my case, I can just invalidate the whole distribution on the root with only one invalidation request:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Invalidation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"InvalidationBatch"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Paths"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"/*"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"CallerReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s3_website gem 1466341232813"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I3CS10X18L9R4R"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreateTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-19T13:00:32.999Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>Compared to:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Invalidation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"InvalidationBatch"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Paths"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"/lab/amsf/feed.json"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/feed.xml"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/404.html"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/markup-example.html"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/creating-themes.html"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/getting-started.html"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/custom-css.html"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/external-link-post.html"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/github-pages-setup.html"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/markdown-features-test.html"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/theme-curtana.html"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/multiple-themes-support.html"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/themes.html"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/syntax-highlighting.html"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/news/"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/configuration.html"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/custom-html-markups.html"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/svg-post-title.html"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/sitemap.xml"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/welcome.html"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/robots.txt"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/about/"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/deployment-methods.html"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/customizing-styles.html"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/lab/amsf/custom-color-scheme.html"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"/index.html"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="nl">"Quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">27</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"CallerReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s3_website gem 1466264746013"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"Id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I3EAPBBE5NHVC6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CreateTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-18T15:45:46.216Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>1 vs 27, and according to the <a href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Invalidation.html">AWS docs</a>:</p> <blockquote> <p>The first 1,000 invalidation paths that you submit per month are free; you pay for each invalidation path over 1,000 in a month. An invalidation path can be for a single object (such as <code class="highlighter-rouge">/images/logo.jpg</code>) or for multiple objects (such as <code class="highlighter-rouge">/images/*</code>). A path that includes the <code class="highlighter-rouge">*</code> wildcard counts as one path even if it causes CloudFront to invalidate thousands of objects.</p> </blockquote> <p>So this update could dramatically reduce your invalidation cost.</p> <footer class="post-modified-date"> <p> Updated <time datetime=" 2019-06-15T13:09:07+08:00 "> Saturday, Jun 15, 2019 </time> </p> </footer> </div> </article> </main> <footer class="footer"> <ul> <li><a href="/">digital authority</a></li> <li> <a href="https://sparanoid.com/lab/amsf/" title="Almace Scaffolding with theme Curtana">AMSF</a> </li> <li> <a href="https://marketin.com.au/">Marketin.com.au</a> </li> </ul> </footer> <script></script> <script></script> <script>"serviceWorker"in navigator&&"digitalauthority.com.au"===window.location.hostname&&navigator.serviceWorker.register("/service-worker.js").then(function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)}).catch(function(e){console.log("ServiceWorker registration failed: ",e)})</script></body></html>